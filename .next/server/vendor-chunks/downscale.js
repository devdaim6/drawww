"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/downscale";
exports.ids = ["vendor-chunks/downscale"];
exports.modules = {

/***/ "(ssr)/./node_modules/downscale/dist/downscale.js":
/*!**************************************************!*\
  !*** ./node_modules/downscale/dist/downscale.js ***!
  \**************************************************/
/***/ ((module, exports) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n/* downscale 1.0.6\n   Better image downscale with canvas.\n   https://github.com/ytiurin/downscale\n   Eugene Tiurin <yevhentiurin@gmail.com>\n   Under MIT license\n*/ (function(root, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n})(void 0, function() {\n    function resizeWithCanvas(canvas, source, destWidth, destHeight, sourceX, sourceY, sourceWidth, sourceHeight) {\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = destWidth;\n        canvas.height = destHeight;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.mozImageSmoothingEnabled = true;\n        ctx.imageSmoothingQuality = \"high\";\n        ctx.webkitImageSmoothingEnabled = true;\n        ctx.msImageSmoothingEnabled = true;\n        ctx.imageSmoothingEnabled = true;\n        ctx.drawImage(source, sourceX, sourceY, sourceWidth, sourceHeight, 0, 0, destWidth, destHeight);\n        return canvas;\n    }\n    function round(val) {\n        return val + 0.49 << 0;\n    }\n    function downsample(sourceImageData, destWidth, destHeight, sourceX, sourceY, sourceWidth, sourceHeight) {\n        var dest = new ImageData(destWidth, destHeight);\n        var SOURCE_DATA = new Int32Array(sourceImageData.data.buffer);\n        var SOURCE_WIDTH = sourceImageData.width;\n        var DEST_DATA = new Int32Array(dest.data.buffer);\n        var DEST_WIDTH = dest.width;\n        var SCALE_FACTOR_X = destWidth / sourceWidth;\n        var SCALE_FACTOR_Y = destHeight / sourceHeight;\n        var SCALE_RANGE_X = round(1 / SCALE_FACTOR_X);\n        var SCALE_RANGE_Y = round(1 / SCALE_FACTOR_Y);\n        var SCALE_RANGE_SQR = SCALE_RANGE_X * SCALE_RANGE_Y;\n        for(var destRow = 0; destRow < dest.height; destRow++){\n            for(var destCol = 0; destCol < DEST_WIDTH; destCol++){\n                var sourceInd = sourceX + round(destCol / SCALE_FACTOR_X) + (sourceY + round(destRow / SCALE_FACTOR_Y)) * SOURCE_WIDTH;\n                var destRed = 0;\n                var destGreen = 0;\n                var destBlue = 0;\n                var destAlpha = 0;\n                for(var sourceRow = 0; sourceRow < SCALE_RANGE_Y; sourceRow++)for(var sourceCol = 0; sourceCol < SCALE_RANGE_X; sourceCol++){\n                    var sourcePx = SOURCE_DATA[sourceInd + sourceCol + sourceRow * SOURCE_WIDTH];\n                    destRed += sourcePx << 24 >>> 24;\n                    destGreen += sourcePx << 16 >>> 24;\n                    destBlue += sourcePx << 8 >>> 24;\n                    destAlpha += sourcePx >>> 24;\n                }\n                destRed = round(destRed / SCALE_RANGE_SQR);\n                destGreen = round(destGreen / SCALE_RANGE_SQR);\n                destBlue = round(destBlue / SCALE_RANGE_SQR);\n                destAlpha = round(destAlpha / SCALE_RANGE_SQR);\n                DEST_DATA[destCol + destRow * DEST_WIDTH] = destAlpha << 24 | destBlue << 16 | destGreen << 8 | destRed;\n            }\n        }\n        return dest;\n    }\n    function createTiming(enabled, source, destWidth, destHeight) {\n        var start = new Date;\n        var timing = {};\n        var prev = start;\n        var n = \"01\";\n        return {\n            mark: enabled ? function(name) {\n                name = n + \". \" + (name || \"...\");\n                timing[name] = {\n                    \"time (ms)\": new Date - prev\n                };\n                prev = new Date;\n                n = (\"0\" + ((n >> 0) + 1)).substr(-2);\n            } : new Function,\n            finish: enabled ? function() {\n                timing[n + \" TOTAL\"] = {\n                    \"time (ms)\": new Date - start\n                };\n                console.log(\"IMAGE SOURCE:\", source);\n                console.log(\"DOWNSCALE TO:\", destWidth + \"x\" + destHeight);\n                console.table(timing);\n            } : new Function\n        };\n    }\n    function createCache() {\n        var keys = [];\n        var values = [];\n        var subscribes = [];\n        var PENDING = new Object;\n        return {\n            createSetter: function(key) {\n                if (this.get(key)) {\n                    return;\n                }\n                var cacheInd = keys.push(key) - 1;\n                values.push(PENDING);\n                subscribes.push([]);\n                return function(value) {\n                    values[cacheInd] = value;\n                    subscribes[cacheInd] = subscribes[cacheInd].reduce(function(r, resolve) {\n                        resolve(value);\n                    }, []);\n                };\n            },\n            get: function(key, resolve) {\n                var cacheInd = keys.indexOf(key);\n                if (!~cacheInd) {\n                    return;\n                }\n                if (values[cacheInd] === PENDING) {\n                    subscribes[cacheInd].push(resolve);\n                    return;\n                }\n                resolve(values[cacheInd]);\n            },\n            has: function(key) {\n                return !!~keys.indexOf(key);\n            }\n        };\n    }\n    function getImageData(canvas, img, sourceWidth, sourceHeight) {\n        canvas.width = sourceWidth;\n        canvas.height = sourceHeight;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(img, 0, 0);\n        return ctx.getImageData(0, 0, sourceWidth, sourceHeight);\n    }\n    function putImageData(canvas, imageData) {\n        canvas.width = imageData.width;\n        canvas.height = imageData.height;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.putImageData(imageData, 0, 0);\n        return canvas;\n    }\n    function remapDimensions(destWidth, destHeight, sourceX, sourceY, sourceWidth, sourceHeight) {\n        var origSourceWidth = sourceWidth;\n        var origSourceHeight = sourceHeight;\n        var sourceRatio = sourceWidth / sourceHeight;\n        if (destWidth === 0) {\n            destWidth = destHeight * sourceRatio >> 0;\n        }\n        if (destHeight === 0) {\n            destHeight = destWidth / sourceRatio >> 0;\n        }\n        var destRatio = destWidth / destHeight;\n        if (destRatio > sourceRatio) {\n            sourceHeight = sourceWidth / destRatio >> 0;\n        } else {\n            sourceWidth = sourceHeight * destRatio >> 0;\n        }\n        var sourceX = sourceX || (origSourceWidth - sourceWidth) / 2 >> 0;\n        var sourceY = sourceY || (origSourceHeight - sourceHeight) / 2 >> 0;\n        return {\n            destWidth: destWidth,\n            destHeight: destHeight,\n            sourceX: sourceX,\n            sourceY: sourceY,\n            sourceWidth: sourceWidth,\n            sourceHeight: sourceHeight\n        };\n    }\n    function produceResult(canvas, options, callback) {\n        if (options.returnCanvas) {\n            callback(canvas);\n            return;\n        }\n        if (options.returnBlob) {\n            canvas.toBlob(callback, \"image/\" + (options.imageType || \"jpeg\"), options.quality || .85);\n            return;\n        }\n        var dataURL = canvas.toDataURL(\"image/\" + (options.imageType || \"jpeg\"), options.quality || .85);\n        callback(dataURL);\n    }\n    function loadArrayBuffer(source, callback) {\n        var xhr = new XMLHttpRequest;\n        xhr.open(\"GET\", source);\n        xhr.responseType = \"arraybuffer\";\n        xhr.addEventListener(\"load\", function() {\n            callback(this.response);\n        });\n        xhr.send();\n    }\n    function loadImg(img, callback) {\n        if (img.complete) {\n            callback();\n        } else {\n            img.addEventListener(\"load\", callback);\n        }\n    }\n    function loadVideo(video, callback) {\n        if (video.readyState > 1) {\n            callback();\n        } else {\n            video.addEventListener(\"loadeddata\", callback);\n        }\n    }\n    function detectSourceType(source) {\n        if (source instanceof File) {\n            return \"File\";\n        }\n        if (source instanceof HTMLImageElement) {\n            return \"HTMLImageElement\";\n        }\n        if (source instanceof HTMLVideoElement) {\n            return \"HTMLVideoElement\";\n        }\n        if (typeof source === \"string\") {\n            return \"URL\";\n        }\n    }\n    function validateArguments(args) {\n        if (args.length < 3) {\n            return new TypeError(\"3 arguments required, but only \" + args.length + \" present.\");\n        }\n        if (!detectSourceType(args[0])) {\n            return new TypeError(\"First argument should be HTMLImageElement, HTMLVideoElement, File of String\");\n        }\n        if (typeof args[1] !== \"number\") {\n            return new TypeError(\"Second argument should be a number\");\n        }\n        if (typeof args[2] !== \"number\") {\n            return new TypeError(\"Third argument should be a number\");\n        }\n    }\n    function downscale(source, destWidth, destHeight, options) {\n        var timing = createTiming(options && options.debug || false, source, destWidth, destHeight);\n        var err = validateArguments(arguments);\n        if (err instanceof TypeError) {\n            return Promise.reject(err);\n        }\n        options = options || {};\n        var resolveResult, rejectResult;\n        var result = new Promise(function(resolve, reject) {\n            resolveResult = resolve;\n            rejectResult = reject;\n        });\n        downscale.canvas = downscale.canvas || document.createElement(\"canvas\");\n        downscale.cache = downscale.cache || createCache();\n        var canvas = downscale.canvas;\n        var cache = downscale.cache;\n        if (cache.has(source)) {\n            timing.mark();\n            cache.get(source, function(cacheData) {\n                timing.mark(\"PENDING CACHE\");\n                var img = cacheData[0];\n                var imageData = cacheData[1];\n                var dims = remapDimensions(destWidth, destHeight, options.sourceX, options.sourceY, imageData.width, imageData.height);\n                if (dims.sourceWidth / dims.destWidth >= 2 && dims.sourceHeight / dims.destHeight >= 2) {\n                    timing.mark();\n                    var destImageData = downsample(imageData, dims.destWidth, dims.destHeight, dims.sourceX, dims.sourceY, dims.sourceWidth, dims.sourceHeight);\n                    timing.mark(\"DOWNSCALE\");\n                    canvas = putImageData(canvas, destImageData);\n                } else {\n                    canvas = resizeWithCanvas(canvas, img, dims.destWidth, dims.destHeight, dims.sourceX, dims.sourceY, dims.sourceWidth, dims.sourceHeight);\n                    timing.mark(\"RESIZE WITH CANVAS\");\n                }\n                produceResult(canvas, options, function(result) {\n                    timing.mark(\"PRODUCE RESULT\");\n                    resolveResult(result);\n                    timing.finish();\n                });\n            });\n            return result;\n        }\n        var scaleSourceResolve = function(source, width, height) {\n            var dims = remapDimensions(destWidth, destHeight, options.sourceX, options.sourceY, width, height);\n            if (dims.sourceWidth / dims.destWidth >= 2 && dims.sourceHeight / dims.destHeight >= 2) {\n                timing.mark();\n                var imageData = getImageData(canvas, source, width, height);\n                timing.mark(\"GET IMAGE DATA\");\n                var destImageData = downsample(imageData, dims.destWidth, dims.destHeight, dims.sourceX, dims.sourceY, dims.sourceWidth, dims.sourceHeight);\n                timing.mark(\"DOWNSCALE\");\n                canvas = putImageData(canvas, destImageData);\n                if (detectSourceType(source) !== \"HTMLVideoElement\") {\n                    cache.createSetter(source)([\n                        source,\n                        imageData\n                    ]);\n                }\n            } else {\n                canvas = resizeWithCanvas(canvas, source, dims.destWidth, dims.destHeight, dims.sourceX, dims.sourceY, dims.sourceWidth, dims.sourceHeight);\n                timing.mark(\"RESIZE WITH CANVAS\");\n            }\n            produceResult(canvas, options, function(result) {\n                timing.mark(\"PRODUCE RESULT\");\n                resolveResult(result);\n                timing.finish();\n            });\n        };\n        var URL = window.URL || window.webkitURL;\n        switch(detectSourceType(source)){\n            case \"File\":\n                var sourceImg = document.createElement(\"img\");\n                timing.mark();\n                sourceImg.src = URL.createObjectURL(source);\n                timing.mark(\"READ FILE\");\n                loadImg(sourceImg, function() {\n                    timing.mark(\"LOAD IMAGE\");\n                    scaleSourceResolve(sourceImg, sourceImg.naturalWidth, sourceImg.naturalHeight);\n                });\n                break;\n            case \"HTMLImageElement\":\n                timing.mark();\n                loadImg(source, function() {\n                    timing.mark(\"LOAD IMAGE\");\n                    scaleSourceResolve(source, source.naturalWidth, source.naturalHeight);\n                });\n                break;\n            case \"HTMLVideoElement\":\n                loadVideo(source, function() {\n                    scaleSourceResolve(source, source.videoWidth, source.videoHeight);\n                });\n                break;\n            case \"URL\":\n                timing.mark();\n                setTimeout(function() {\n                    loadArrayBuffer(source, function(arrayBuffer) {\n                        timing.mark(\"LOAD ARRAY BUFFER\");\n                        var arrayBufferView = new Uint8Array(arrayBuffer);\n                        var blob = new Blob([\n                            arrayBufferView\n                        ], {\n                            type: \"image/jpeg\"\n                        });\n                        var sourceImg = document.createElement(\"img\");\n                        sourceImg.src = URL.createObjectURL(blob);\n                        timing.mark();\n                        loadImg(sourceImg, function() {\n                            timing.mark(\"LOAD IMAGE\");\n                            scaleSourceResolve(sourceImg, sourceImg.naturalWidth, sourceImg.naturalHeight);\n                        });\n                    });\n                });\n                break;\n        }\n        return result;\n    }\n    return downscale;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZG93bnNjYWxlL2Rpc3QvZG93bnNjYWxlLmpzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7QUFLQSxHQUNDLFVBQVVBLElBQUksRUFBRUMsT0FBTztJQUNwQixJQUFJLElBQTBDLEVBQUU7UUFDNUNDLGlDQUFPLEVBQUUsb0NBQUVELE9BQU9BO0FBQUE7QUFBQTtBQUFBLGtHQUFDQTtJQUN2QixPQUFPLEVBSU47QUFDTCxHQUFFLFFBQU07SUFFUixTQUFTTSxpQkFBaUJDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFVBQVUsRUFBRUMsT0FBTyxFQUN0RUMsT0FBTyxFQUFFQyxXQUFXLEVBQUVDLFlBQVk7UUFFbEMsSUFBSVAsU0FBU1EsU0FBU0MsYUFBYSxDQUFDO1FBRXBDVCxPQUFPVSxLQUFLLEdBQUlSO1FBQ2hCRixPQUFPVyxNQUFNLEdBQUdSO1FBRWhCLElBQUlTLE1BQU1aLE9BQU9hLFVBQVUsQ0FBQztRQUU1QkQsSUFBSUUsd0JBQXdCLEdBQU07UUFDbENGLElBQUlHLHFCQUFxQixHQUFTO1FBQ2xDSCxJQUFJSSwyQkFBMkIsR0FBRztRQUNsQ0osSUFBSUssdUJBQXVCLEdBQU87UUFDbENMLElBQUlNLHFCQUFxQixHQUFTO1FBRWxDTixJQUFJTyxTQUFTLENBQUNsQixRQUNaRyxTQUFTQyxTQUFTQyxhQUFhQyxjQUMvQixHQUFHLEdBQUdMLFdBQVdDO1FBRW5CLE9BQU9IO0lBQ1Q7SUFDQSxTQUFTb0IsTUFBTUMsR0FBRztRQUVoQixPQUFPLE1BQU8sUUFBUztJQUN6QjtJQUVBLFNBQVNDLFdBQVdDLGVBQWUsRUFBRXJCLFNBQVMsRUFBRUMsVUFBVSxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFDMUVDLFdBQVcsRUFBRUMsWUFBWTtRQUV6QixJQUFJaUIsT0FBTyxJQUFJQyxVQUFVdkIsV0FBV0M7UUFFcEMsSUFBSXVCLGNBQWUsSUFBSUMsV0FBV0osZ0JBQWdCSyxJQUFJLENBQUNDLE1BQU07UUFDN0Qs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LFFBQVE2QixXQUNSO29CQUNFcEYsT0FBT0csSUFBSSxDQUFDO29CQUNaNkUsbUJBQW1CSSxXQUFXQSxVQUFVRyxZQUFZLEVBQ2xESCxVQUFVSSxhQUFhO2dCQUMzQjtnQkFDQTtZQUVGLEtBQUs7Z0JBQ0h4RixPQUFPRyxJQUFJO2dCQUNYb0QsUUFBUTFHLFFBQ1I7b0JBQ0VtRCxPQUFPRyxJQUFJLENBQUM7b0JBQ1o2RSxtQkFBbUJuSSxRQUFRQSxPQUFPMEksWUFBWSxFQUFFMUksT0FBTzJJLGFBQWE7Z0JBQ3RFO2dCQUNBO1lBRUYsS0FBSztnQkFDSC9CLFVBQVU1RyxRQUNWO29CQUNFbUksbUJBQW1CbkksUUFBUUEsT0FBTzRJLFVBQVUsRUFBRTVJLE9BQU82SSxXQUFXO2dCQUNsRTtnQkFDQTtZQUVGLEtBQUs7Z0JBQ0gxRixPQUFPRyxJQUFJO2dCQUNYd0YsV0FBVztvQkFDWDVDLGdCQUFnQmxHLFFBQ2hCLFNBQVMrSSxXQUFXO3dCQUNsQjVGLE9BQU9HLElBQUksQ0FBQzt3QkFDWixJQUFJMEYsa0JBQWtCLElBQUlDLFdBQVdGO3dCQUNyQyxJQUFJRyxPQUFPLElBQUlDLEtBQU07NEJBQUVIO3lCQUFpQixFQUFFOzRCQUFFSSxNQUFNO3dCQUFhO3dCQUMvRCxJQUFJYixZQUFZaEksU0FBU0MsYUFBYSxDQUFDO3dCQUN2QytILFVBQVVDLEdBQUcsR0FBR0osSUFBSUssZUFBZSxDQUFDUzt3QkFDcEMvRixPQUFPRyxJQUFJO3dCQUNYb0QsUUFBUTZCLFdBQ1I7NEJBQ0VwRixPQUFPRyxJQUFJLENBQUM7NEJBQ1o2RSxtQkFBbUJJLFdBQVdBLFVBQVVHLFlBQVksRUFDbERILFVBQVVJLGFBQWE7d0JBQzNCO29CQUNGO2dCQUNBO2dCQUNBO1FBQ0o7UUFFQSxPQUFPYjtJQUNUO0lBQ0ksT0FBT2pJO0FBQ1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3J0Zm9saW8vLi9ub2RlX21vZHVsZXMvZG93bnNjYWxlL2Rpc3QvZG93bnNjYWxlLmpzPzU1ZDQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZG93bnNjYWxlIDEuMC42XG4gICBCZXR0ZXIgaW1hZ2UgZG93bnNjYWxlIHdpdGggY2FudmFzLlxuICAgaHR0cHM6Ly9naXRodWIuY29tL3l0aXVyaW4vZG93bnNjYWxlXG4gICBFdWdlbmUgVGl1cmluIDx5ZXZoZW50aXVyaW5AZ21haWwuY29tPlxuICAgVW5kZXIgTUlUIGxpY2Vuc2VcbiovXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290LmRvd25zY2FsZSA9IGZhY3RvcnkoKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuZnVuY3Rpb24gcmVzaXplV2l0aENhbnZhcyhjYW52YXMsIHNvdXJjZSwgZGVzdFdpZHRoLCBkZXN0SGVpZ2h0LCBzb3VyY2VYLFxuICBzb3VyY2VZLCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0KVxue1xuICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKVxuXG4gIGNhbnZhcy53aWR0aCAgPSBkZXN0V2lkdGhcbiAgY2FudmFzLmhlaWdodCA9IGRlc3RIZWlnaHRcblxuICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKVxuXG4gIGN0eC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgICAgPSB0cnVlXG4gIGN0eC5pbWFnZVNtb290aGluZ1F1YWxpdHkgICAgICAgPSBcImhpZ2hcIlxuICBjdHgud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gdHJ1ZVxuICBjdHgubXNJbWFnZVNtb290aGluZ0VuYWJsZWQgICAgID0gdHJ1ZVxuICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkICAgICAgID0gdHJ1ZVxuXG4gIGN0eC5kcmF3SW1hZ2Uoc291cmNlLFxuICAgIHNvdXJjZVgsIHNvdXJjZVksIHNvdXJjZVdpZHRoLCBzb3VyY2VIZWlnaHQsXG4gICAgMCwgMCwgZGVzdFdpZHRoLCBkZXN0SGVpZ2h0KVxuXG4gIHJldHVybiBjYW52YXNcbn1cbmZ1bmN0aW9uIHJvdW5kKHZhbClcbntcbiAgcmV0dXJuICh2YWwgKyAwLjQ5KSA8PCAwXG59XG5cbmZ1bmN0aW9uIGRvd25zYW1wbGUoc291cmNlSW1hZ2VEYXRhLCBkZXN0V2lkdGgsIGRlc3RIZWlnaHQsIHNvdXJjZVgsIHNvdXJjZVksXG4gIHNvdXJjZVdpZHRoLCBzb3VyY2VIZWlnaHQpXG57XG4gIHZhciBkZXN0ID0gbmV3IEltYWdlRGF0YShkZXN0V2lkdGgsIGRlc3RIZWlnaHQpXG5cbiAgdmFyIFNPVVJDRV9EQVRBICA9IG5ldyBJbnQzMkFycmF5KHNvdXJjZUltYWdlRGF0YS5kYXRhLmJ1ZmZlcilcbiAgdmFyIFNPVVJDRV9XSURUSCA9IHNvdXJjZUltYWdlRGF0YS53aWR0aFxuXG4gIHZhciBERVNUX0RBVEEgID0gbmV3IEludDMyQXJyYXkoZGVzdC5kYXRhLmJ1ZmZlcilcbiAgdmFyIERFU1RfV0lEVEggPSBkZXN0LndpZHRoXG5cbiAgdmFyIFNDQUxFX0ZBQ1RPUl9YICA9IGRlc3RXaWR0aCAgLyBzb3VyY2VXaWR0aFxuICB2YXIgU0NBTEVfRkFDVE9SX1kgID0gZGVzdEhlaWdodCAvIHNvdXJjZUhlaWdodFxuICB2YXIgU0NBTEVfUkFOR0VfWCAgID0gcm91bmQoMSAvIFNDQUxFX0ZBQ1RPUl9YKVxuICB2YXIgU0NBTEVfUkFOR0VfWSAgID0gcm91bmQoMSAvIFNDQUxFX0ZBQ1RPUl9ZKVxuICB2YXIgU0NBTEVfUkFOR0VfU1FSID0gU0NBTEVfUkFOR0VfWCAqIFNDQUxFX1JBTkdFX1lcblxuICBmb3IgKHZhciBkZXN0Um93ID0gMDsgZGVzdFJvdyA8IGRlc3QuaGVpZ2h0OyBkZXN0Um93KyspIHtcbiAgICBmb3IgKHZhciBkZXN0Q29sID0gMDsgZGVzdENvbCA8IERFU1RfV0lEVEg7IGRlc3RDb2wrKykge1xuXG4gICAgICB2YXIgc291cmNlSW5kID0gc291cmNlWCArIHJvdW5kKGRlc3RDb2wgLyBTQ0FMRV9GQUNUT1JfWCkgK1xuICAgICAgICAoc291cmNlWSArIHJvdW5kKGRlc3RSb3cgLyBTQ0FMRV9GQUNUT1JfWSkpICogU09VUkNFX1dJRFRIXG5cbiAgICAgIHZhciBkZXN0UmVkICAgPSAwXG4gICAgICB2YXIgZGVzdEdyZWVuID0gMFxuICAgICAgdmFyIGRlc3RCbHVlICA9IDBcbiAgICAgIHZhciBkZXN0QWxwaGEgPSAwXG5cbiAgICAgIGZvciAodmFyIHNvdXJjZVJvdyA9IDA7IHNvdXJjZVJvdyA8IFNDQUxFX1JBTkdFX1k7IHNvdXJjZVJvdysrKVxuICAgICAgICBmb3IgKHZhciBzb3VyY2VDb2wgPSAwOyBzb3VyY2VDb2wgPCBTQ0FMRV9SQU5HRV9YOyBzb3VyY2VDb2wrKykge1xuICAgICAgICAgIHZhciBzb3VyY2VQeCA9IFNPVVJDRV9EQVRBW3NvdXJjZUluZCArIHNvdXJjZUNvbCArIHNvdXJjZVJvdyAqIFNPVVJDRV9XSURUSF1cbiAgICAgICAgICBkZXN0UmVkICAgKz0gc291cmNlUHggPDwgIDI0ID4+PiAyNFxuICAgICAgICAgIGRlc3RHcmVlbiArPSBzb3VyY2VQeCA8PCAgMTYgPj4+IDI0XG4gICAgICAgICAgZGVzdEJsdWUgICs9IHNvdXJjZVB4IDw8ICA4ICA+Pj4gMjRcbiAgICAgICAgICBkZXN0QWxwaGEgKz0gc291cmNlUHggPj4+IDI0XG4gICAgICAgIH1cblxuICAgICAgZGVzdFJlZCAgID0gcm91bmQoZGVzdFJlZCAgIC8gU0NBTEVfUkFOR0VfU1FSKVxuICAgICAgZGVzdEdyZWVuID0gcm91bmQoZGVzdEdyZWVuIC8gU0NBTEVfUkFOR0VfU1FSKVxuICAgICAgZGVzdEJsdWUgID0gcm91bmQoZGVzdEJsdWUgIC8gU0NBTEVfUkFOR0VfU1FSKVxuICAgICAgZGVzdEFscGhhID0gcm91bmQoZGVzdEFscGhhIC8gU0NBTEVfUkFOR0VfU1FSKVxuXG4gICAgICBERVNUX0RBVEFbZGVzdENvbCArIGRlc3RSb3cgKiBERVNUX1dJRFRIXSA9XG4gICAgICAgIChkZXN0QWxwaGEgPDwgMjQpIHxcbiAgICAgICAgKGRlc3RCbHVlICA8PCAxNikgfFxuICAgICAgICAoZGVzdEdyZWVuIDw8IDgpICB8XG4gICAgICAgIChkZXN0UmVkKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZXN0XG59XG5mdW5jdGlvbiBjcmVhdGVUaW1pbmcoZW5hYmxlZCwgc291cmNlLCBkZXN0V2lkdGgsIGRlc3RIZWlnaHQpXG57XG4gIHZhciBzdGFydCAgPSBuZXcgRGF0ZVxuICB2YXIgdGltaW5nID0ge31cbiAgdmFyIHByZXYgICA9IHN0YXJ0XG4gIHZhciBuICAgICAgPSBcIjAxXCJcblxuICByZXR1cm4ge1xuICAgIG1hcms6IGVuYWJsZWQgPyBmdW5jdGlvbihuYW1lKSB7XG4gICAgICBuYW1lID0gbiArIFwiLiBcIiArIChuYW1lIHx8IFwiLi4uXCIpXG4gICAgICB0aW1pbmdbbmFtZV0gPSB7IFwidGltZSAobXMpXCI6IChuZXcgRGF0ZSkgLSBwcmV2IH1cbiAgICAgIHByZXYgPSBuZXcgRGF0ZVxuICAgICAgbiA9IChcIjBcIiArICgobiA+PiAwKSArIDEpKS5zdWJzdHIoLTIpXG4gICAgfSA6IG5ldyBGdW5jdGlvbixcbiAgICBmaW5pc2g6IGVuYWJsZWQgPyBmdW5jdGlvbigpIHtcbiAgICAgIHRpbWluZ1tuICsgXCIgVE9UQUxcIl0gPSB7IFwidGltZSAobXMpXCI6IChuZXcgRGF0ZSkgLSBzdGFydCB9XG4gICAgICBjb25zb2xlLmxvZyhcIklNQUdFIFNPVVJDRTpcIiwgc291cmNlKVxuICAgICAgY29uc29sZS5sb2coXCJET1dOU0NBTEUgVE86XCIsIGRlc3RXaWR0aCArIFwieFwiICsgZGVzdEhlaWdodClcbiAgICAgIGNvbnNvbGUudGFibGUodGltaW5nKVxuICAgIH0gOiBuZXcgRnVuY3Rpb25cbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVDYWNoZSgpXG57XG4gIHZhciBrZXlzICAgICAgID0gW11cbiAgdmFyIHZhbHVlcyAgICAgPSBbXVxuICB2YXIgc3Vic2NyaWJlcyA9IFtdXG4gIHZhciBQRU5ESU5HICAgID0gbmV3IE9iamVjdFxuXG4gIHJldHVybiB7XG4gICAgY3JlYXRlU2V0dGVyOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmICh0aGlzLmdldChrZXkpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgdmFyIGNhY2hlSW5kID0ga2V5cy5wdXNoKGtleSkgLSAxXG4gICAgICB2YWx1ZXMucHVzaChQRU5ESU5HKVxuICAgICAgc3Vic2NyaWJlcy5wdXNoKFtdKVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFsdWVzW2NhY2hlSW5kXSA9IHZhbHVlXG4gICAgICAgIHN1YnNjcmliZXNbY2FjaGVJbmRdID0gc3Vic2NyaWJlc1tjYWNoZUluZF0ucmVkdWNlKGZ1bmN0aW9uKHIsIHJlc29sdmUpIHtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlKVxuICAgICAgICB9LCBbXSlcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24oa2V5LCByZXNvbHZlKSB7XG4gICAgICB2YXIgY2FjaGVJbmQgPSBrZXlzLmluZGV4T2Yoa2V5KVxuICAgICAgaWYgKCF+Y2FjaGVJbmQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAodmFsdWVzW2NhY2hlSW5kXSA9PT0gUEVORElORykge1xuICAgICAgICBzdWJzY3JpYmVzW2NhY2hlSW5kXS5wdXNoKHJlc29sdmUpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgcmVzb2x2ZSh2YWx1ZXNbY2FjaGVJbmRdKVxuICAgIH0sXG4gICAgaGFzOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiAhIX5rZXlzLmluZGV4T2Yoa2V5KVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRJbWFnZURhdGEoY2FudmFzLCBpbWcsIHNvdXJjZVdpZHRoLCBzb3VyY2VIZWlnaHQpXG57XG4gIGNhbnZhcy53aWR0aCAgPSBzb3VyY2VXaWR0aFxuICBjYW52YXMuaGVpZ2h0ID0gc291cmNlSGVpZ2h0XG5cbiAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIilcbiAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApXG5cbiAgcmV0dXJuIGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodClcbn1cblxuZnVuY3Rpb24gcHV0SW1hZ2VEYXRhKGNhbnZhcywgaW1hZ2VEYXRhKVxue1xuICBjYW52YXMud2lkdGggID0gaW1hZ2VEYXRhLndpZHRoXG4gIGNhbnZhcy5oZWlnaHQgPSBpbWFnZURhdGEuaGVpZ2h0XG5cbiAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIilcbiAgY3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApXG5cbiAgcmV0dXJuIGNhbnZhc1xufVxuXG5mdW5jdGlvbiByZW1hcERpbWVuc2lvbnMoZGVzdFdpZHRoLCBkZXN0SGVpZ2h0LCBzb3VyY2VYLCBzb3VyY2VZLCBzb3VyY2VXaWR0aCxcbiAgc291cmNlSGVpZ2h0KVxue1xuICB2YXIgb3JpZ1NvdXJjZVdpZHRoICA9IHNvdXJjZVdpZHRoXG4gIHZhciBvcmlnU291cmNlSGVpZ2h0ID0gc291cmNlSGVpZ2h0XG5cbiAgdmFyIHNvdXJjZVJhdGlvID0gc291cmNlV2lkdGggLyBzb3VyY2VIZWlnaHRcblxuICBpZiAoZGVzdFdpZHRoID09PSAwKSB7XG4gICAgZGVzdFdpZHRoID0gZGVzdEhlaWdodCAqIHNvdXJjZVJhdGlvID4+IDBcbiAgfVxuXG4gIGlmIChkZXN0SGVpZ2h0ID09PSAwKSB7XG4gICAgZGVzdEhlaWdodCA9IGRlc3RXaWR0aCAvIHNvdXJjZVJhdGlvID4+IDBcbiAgfVxuXG4gIHZhciBkZXN0UmF0aW8gICA9IGRlc3RXaWR0aCAvIGRlc3RIZWlnaHRcblxuICBpZiAoZGVzdFJhdGlvID4gc291cmNlUmF0aW8pIHtcbiAgICBzb3VyY2VIZWlnaHQgPSBzb3VyY2VXaWR0aCAvIGRlc3RSYXRpbyA+PiAwXG4gIH1cbiAgZWxzZSB7XG4gICAgc291cmNlV2lkdGggPSBzb3VyY2VIZWlnaHQgKiBkZXN0UmF0aW8gPj4gMFxuICB9XG5cbiAgdmFyIHNvdXJjZVggPSBzb3VyY2VYIHx8IChvcmlnU291cmNlV2lkdGggIC0gc291cmNlV2lkdGgpICAvIDIgPj4gMFxuICB2YXIgc291cmNlWSA9IHNvdXJjZVkgfHwgKG9yaWdTb3VyY2VIZWlnaHQgLSBzb3VyY2VIZWlnaHQpIC8gMiA+PiAwXG5cbiAgcmV0dXJuIHtcbiAgICBkZXN0V2lkdGggICAgOiBkZXN0V2lkdGgsXG4gICAgZGVzdEhlaWdodCAgIDogZGVzdEhlaWdodCxcbiAgICBzb3VyY2VYICAgICAgOiBzb3VyY2VYLFxuICAgIHNvdXJjZVkgICAgICA6IHNvdXJjZVksXG4gICAgc291cmNlV2lkdGggIDogc291cmNlV2lkdGgsXG4gICAgc291cmNlSGVpZ2h0IDogc291cmNlSGVpZ2h0XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvZHVjZVJlc3VsdChjYW52YXMsIG9wdGlvbnMsIGNhbGxiYWNrKVxue1xuICBpZiAob3B0aW9ucy5yZXR1cm5DYW52YXMpIHtcbiAgICBjYWxsYmFjayhjYW52YXMpXG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAob3B0aW9ucy5yZXR1cm5CbG9iKSB7XG4gICAgY2FudmFzLnRvQmxvYihjYWxsYmFjaywgXCJpbWFnZS9cIiArIChvcHRpb25zLmltYWdlVHlwZSB8fCBcImpwZWdcIiksXG4gICAgICBvcHRpb25zLnF1YWxpdHkgfHwgLjg1KVxuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvXCIgKyAob3B0aW9ucy5pbWFnZVR5cGUgfHwgXCJqcGVnXCIpLFxuICAgIG9wdGlvbnMucXVhbGl0eSB8fCAuODUpXG5cbiAgY2FsbGJhY2soZGF0YVVSTClcbn1cblxuZnVuY3Rpb24gbG9hZEFycmF5QnVmZmVyKHNvdXJjZSwgY2FsbGJhY2spXG57XG4gIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3RcblxuICB4aHIub3BlbihcIkdFVFwiLCBzb3VyY2UpXG4gIHhoci5yZXNwb25zZVR5cGUgPSBcImFycmF5YnVmZmVyXCJcblxuICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgY2FsbGJhY2sodGhpcy5yZXNwb25zZSlcbiAgfSlcblxuICB4aHIuc2VuZCgpXG59XG5cbmZ1bmN0aW9uIGxvYWRJbWcoaW1nLCBjYWxsYmFjaylcbntcbiAgaWYgKGltZy5jb21wbGV0ZSkge1xuICAgIGNhbGxiYWNrKClcbiAgfVxuICBlbHNlIHtcbiAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgIGNhbGxiYWNrKVxuICB9XG59XG5cbmZ1bmN0aW9uIGxvYWRWaWRlbyh2aWRlbywgY2FsbGJhY2spXG57XG4gIGlmICh2aWRlby5yZWFkeVN0YXRlID4gMSkge1xuICAgIGNhbGxiYWNrKClcbiAgfVxuICBlbHNlIHtcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkZGF0YVwiLCBjYWxsYmFjaylcbiAgfVxufVxuXG5mdW5jdGlvbiBkZXRlY3RTb3VyY2VUeXBlKHNvdXJjZSlcbntcbiAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEZpbGUpIHtcbiAgICByZXR1cm4gXCJGaWxlXCJcbiAgfVxuICBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgIHJldHVybiBcIkhUTUxJbWFnZUVsZW1lbnRcIlxuICB9XG4gIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSB7XG4gICAgcmV0dXJuIFwiSFRNTFZpZGVvRWxlbWVudFwiXG4gIH1cbiAgaWYgKHR5cGVvZiBzb3VyY2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gXCJVUkxcIlxuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQXJndW1lbnRzKGFyZ3MpXG57XG4gIGlmIChhcmdzLmxlbmd0aCA8IDMpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIjMgYXJndW1lbnRzIHJlcXVpcmVkLCBidXQgb25seSBcIiArIGFyZ3MubGVuZ3RoICsgXCIgcHJlc2VudC5cIilcbiAgfVxuICBpZiAoIWRldGVjdFNvdXJjZVR5cGUoYXJnc1swXSkpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IHNob3VsZCBiZSBIVE1MSW1hZ2VFbGVtZW50LCBIVE1MVmlkZW9FbGVtZW50LCBGaWxlIG9mIFN0cmluZ1wiKVxuICB9XG4gIGlmICh0eXBlb2YgYXJnc1sxXSAhPT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiU2Vjb25kIGFyZ3VtZW50IHNob3VsZCBiZSBhIG51bWJlclwiKVxuICB9XG4gIGlmICh0eXBlb2YgYXJnc1syXSAhPT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiVGhpcmQgYXJndW1lbnQgc2hvdWxkIGJlIGEgbnVtYmVyXCIpXG4gIH1cbn1cblxuZnVuY3Rpb24gZG93bnNjYWxlKHNvdXJjZSwgZGVzdFdpZHRoLCBkZXN0SGVpZ2h0LCBvcHRpb25zKVxue1xuICB2YXIgdGltaW5nID0gY3JlYXRlVGltaW5nKG9wdGlvbnMgJiYgb3B0aW9ucy5kZWJ1ZyB8fCBmYWxzZSxcbiAgICBzb3VyY2UsIGRlc3RXaWR0aCwgZGVzdEhlaWdodClcblxuICB2YXIgZXJyID0gdmFsaWRhdGVBcmd1bWVudHMoYXJndW1lbnRzKVxuICBpZiAoZXJyIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycilcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgdmFyIHJlc29sdmVSZXN1bHQsIHJlamVjdFJlc3VsdFxuICB2YXIgcmVzdWx0ID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmVzb2x2ZVJlc3VsdCA9IHJlc29sdmVcbiAgICByZWplY3RSZXN1bHQgID0gcmVqZWN0XG4gIH0pXG5cbiAgZG93bnNjYWxlLmNhbnZhcyA9IGRvd25zY2FsZS5jYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKVxuICBkb3duc2NhbGUuY2FjaGUgID0gZG93bnNjYWxlLmNhY2hlICB8fCBjcmVhdGVDYWNoZSgpXG5cbiAgdmFyIGNhbnZhcyA9IGRvd25zY2FsZS5jYW52YXNcbiAgdmFyIGNhY2hlICA9IGRvd25zY2FsZS5jYWNoZVxuXG4gIGlmIChjYWNoZS5oYXMoc291cmNlKSkge1xuICAgIHRpbWluZy5tYXJrKClcbiAgICBjYWNoZS5nZXQoc291cmNlLFxuICAgIGZ1bmN0aW9uKGNhY2hlRGF0YSkge1xuICAgICAgdGltaW5nLm1hcmsoXCJQRU5ESU5HIENBQ0hFXCIpXG4gICAgICB2YXIgaW1nID0gY2FjaGVEYXRhWzBdXG4gICAgICB2YXIgaW1hZ2VEYXRhID0gY2FjaGVEYXRhWzFdXG5cbiAgICAgIHZhciBkaW1zID0gcmVtYXBEaW1lbnNpb25zKGRlc3RXaWR0aCwgZGVzdEhlaWdodCwgb3B0aW9ucy5zb3VyY2VYLFxuICAgICAgICBvcHRpb25zLnNvdXJjZVksIGltYWdlRGF0YS53aWR0aCwgaW1hZ2VEYXRhLmhlaWdodClcblxuICAgICAgaWYgKGRpbXMuc291cmNlV2lkdGggIC8gZGltcy5kZXN0V2lkdGggID49IDIgJiZcbiAgICAgICAgICBkaW1zLnNvdXJjZUhlaWdodCAvIGRpbXMuZGVzdEhlaWdodCA+PSAyKSB7XG4gICAgICAgIHRpbWluZy5tYXJrKClcbiAgICAgICAgdmFyIGRlc3RJbWFnZURhdGEgPSBkb3duc2FtcGxlKGltYWdlRGF0YSwgZGltcy5kZXN0V2lkdGgsXG4gICAgICAgICAgZGltcy5kZXN0SGVpZ2h0LCBkaW1zLnNvdXJjZVgsIGRpbXMuc291cmNlWSwgZGltcy5zb3VyY2VXaWR0aCxcbiAgICAgICAgICBkaW1zLnNvdXJjZUhlaWdodClcbiAgICAgICAgdGltaW5nLm1hcmsoXCJET1dOU0NBTEVcIilcblxuICAgICAgICBjYW52YXMgPSBwdXRJbWFnZURhdGEoY2FudmFzLCBkZXN0SW1hZ2VEYXRhKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNhbnZhcyA9IHJlc2l6ZVdpdGhDYW52YXMoY2FudmFzLCBpbWcsIGRpbXMuZGVzdFdpZHRoLFxuICAgICAgICAgIGRpbXMuZGVzdEhlaWdodCwgZGltcy5zb3VyY2VYLCBkaW1zLnNvdXJjZVksIGRpbXMuc291cmNlV2lkdGgsXG4gICAgICAgICAgZGltcy5zb3VyY2VIZWlnaHQpXG4gICAgICAgIHRpbWluZy5tYXJrKFwiUkVTSVpFIFdJVEggQ0FOVkFTXCIpXG4gICAgICB9XG5cbiAgICAgIHByb2R1Y2VSZXN1bHQoY2FudmFzLCBvcHRpb25zLFxuICAgICAgZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgIHRpbWluZy5tYXJrKFwiUFJPRFVDRSBSRVNVTFRcIilcbiAgICAgICAgcmVzb2x2ZVJlc3VsdChyZXN1bHQpXG4gICAgICAgIHRpbWluZy5maW5pc2goKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgdmFyIHNjYWxlU291cmNlUmVzb2x2ZSA9IGZ1bmN0aW9uKHNvdXJjZSwgd2lkdGgsIGhlaWdodCkge1xuICAgIHZhciBkaW1zID0gcmVtYXBEaW1lbnNpb25zKGRlc3RXaWR0aCwgZGVzdEhlaWdodCwgb3B0aW9ucy5zb3VyY2VYLFxuICAgICAgb3B0aW9ucy5zb3VyY2VZLCB3aWR0aCwgaGVpZ2h0KVxuXG4gICAgaWYgKGRpbXMuc291cmNlV2lkdGggIC8gZGltcy5kZXN0V2lkdGggID49IDIgJiZcbiAgICAgICAgZGltcy5zb3VyY2VIZWlnaHQgLyBkaW1zLmRlc3RIZWlnaHQgPj0gMikge1xuICAgICAgdGltaW5nLm1hcmsoKVxuICAgICAgdmFyIGltYWdlRGF0YSA9IGdldEltYWdlRGF0YShjYW52YXMsIHNvdXJjZSwgd2lkdGgsIGhlaWdodClcbiAgICAgIHRpbWluZy5tYXJrKFwiR0VUIElNQUdFIERBVEFcIilcblxuICAgICAgdmFyIGRlc3RJbWFnZURhdGEgPSBkb3duc2FtcGxlKGltYWdlRGF0YSwgZGltcy5kZXN0V2lkdGgsXG4gICAgICAgIGRpbXMuZGVzdEhlaWdodCwgZGltcy5zb3VyY2VYLCBkaW1zLnNvdXJjZVksIGRpbXMuc291cmNlV2lkdGgsXG4gICAgICAgIGRpbXMuc291cmNlSGVpZ2h0KVxuICAgICAgdGltaW5nLm1hcmsoXCJET1dOU0NBTEVcIilcblxuICAgICAgY2FudmFzID0gcHV0SW1hZ2VEYXRhKGNhbnZhcywgZGVzdEltYWdlRGF0YSlcblxuICAgICAgaWYgKGRldGVjdFNvdXJjZVR5cGUoc291cmNlKSAhPT0gXCJIVE1MVmlkZW9FbGVtZW50XCIpIHtcbiAgICAgICAgICBjYWNoZS5jcmVhdGVTZXR0ZXIoc291cmNlKShbc291cmNlLCBpbWFnZURhdGFdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYW52YXMgPSByZXNpemVXaXRoQ2FudmFzKGNhbnZhcywgc291cmNlLCBkaW1zLmRlc3RXaWR0aCxcbiAgICAgICAgZGltcy5kZXN0SGVpZ2h0LCBkaW1zLnNvdXJjZVgsIGRpbXMuc291cmNlWSwgZGltcy5zb3VyY2VXaWR0aCxcbiAgICAgICAgZGltcy5zb3VyY2VIZWlnaHQpXG4gICAgICB0aW1pbmcubWFyayhcIlJFU0laRSBXSVRIIENBTlZBU1wiKVxuICAgIH1cblxuICAgIHByb2R1Y2VSZXN1bHQoY2FudmFzLCBvcHRpb25zLFxuICAgIGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgdGltaW5nLm1hcmsoXCJQUk9EVUNFIFJFU1VMVFwiKVxuICAgICAgcmVzb2x2ZVJlc3VsdChyZXN1bHQpXG4gICAgICB0aW1pbmcuZmluaXNoKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIFVSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTFxuXG4gIHN3aXRjaCAoZGV0ZWN0U291cmNlVHlwZShzb3VyY2UpKSB7XG5cbiAgICBjYXNlIFwiRmlsZVwiOlxuICAgICAgdmFyIHNvdXJjZUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIilcbiAgICAgIHRpbWluZy5tYXJrKClcbiAgICAgIHNvdXJjZUltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHNvdXJjZSlcbiAgICAgIHRpbWluZy5tYXJrKFwiUkVBRCBGSUxFXCIpXG4gICAgICBsb2FkSW1nKHNvdXJjZUltZyxcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICB0aW1pbmcubWFyayhcIkxPQUQgSU1BR0VcIilcbiAgICAgICAgc2NhbGVTb3VyY2VSZXNvbHZlKHNvdXJjZUltZywgc291cmNlSW1nLm5hdHVyYWxXaWR0aCxcbiAgICAgICAgICBzb3VyY2VJbWcubmF0dXJhbEhlaWdodClcbiAgICAgIH0pXG4gICAgICBicmVha1xuXG4gICAgY2FzZSBcIkhUTUxJbWFnZUVsZW1lbnRcIjpcbiAgICAgIHRpbWluZy5tYXJrKClcbiAgICAgIGxvYWRJbWcoc291cmNlLFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRpbWluZy5tYXJrKFwiTE9BRCBJTUFHRVwiKVxuICAgICAgICBzY2FsZVNvdXJjZVJlc29sdmUoc291cmNlLCBzb3VyY2UubmF0dXJhbFdpZHRoLCBzb3VyY2UubmF0dXJhbEhlaWdodClcbiAgICAgIH0pXG4gICAgICBicmVha1xuXG4gICAgY2FzZSBcIkhUTUxWaWRlb0VsZW1lbnRcIjpcbiAgICAgIGxvYWRWaWRlbyhzb3VyY2UsXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgc2NhbGVTb3VyY2VSZXNvbHZlKHNvdXJjZSwgc291cmNlLnZpZGVvV2lkdGgsIHNvdXJjZS52aWRlb0hlaWdodClcbiAgICAgIH0pXG4gICAgICBicmVha1xuXG4gICAgY2FzZSBcIlVSTFwiOlxuICAgICAgdGltaW5nLm1hcmsoKVxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGxvYWRBcnJheUJ1ZmZlcihzb3VyY2UsXG4gICAgICBmdW5jdGlvbihhcnJheUJ1ZmZlcikge1xuICAgICAgICB0aW1pbmcubWFyayhcIkxPQUQgQVJSQVkgQlVGRkVSXCIpXG4gICAgICAgIHZhciBhcnJheUJ1ZmZlclZpZXcgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcilcbiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYiggWyBhcnJheUJ1ZmZlclZpZXcgXSwgeyB0eXBlOiBcImltYWdlL2pwZWdcIiB9IClcbiAgICAgICAgdmFyIHNvdXJjZUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIilcbiAgICAgICAgc291cmNlSW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYilcbiAgICAgICAgdGltaW5nLm1hcmsoKVxuICAgICAgICBsb2FkSW1nKHNvdXJjZUltZyxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGltaW5nLm1hcmsoXCJMT0FEIElNQUdFXCIpXG4gICAgICAgICAgc2NhbGVTb3VyY2VSZXNvbHZlKHNvdXJjZUltZywgc291cmNlSW1nLm5hdHVyYWxXaWR0aCxcbiAgICAgICAgICAgIHNvdXJjZUltZy5uYXR1cmFsSGVpZ2h0KVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICAgIH0pXG4gICAgICBicmVha1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuICAgIHJldHVybiBkb3duc2NhbGVcbn0pKTsiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJtb2R1bGUiLCJleHBvcnRzIiwiZG93bnNjYWxlIiwicmVzaXplV2l0aENhbnZhcyIsImNhbnZhcyIsInNvdXJjZSIsImRlc3RXaWR0aCIsImRlc3RIZWlnaHQiLCJzb3VyY2VYIiwic291cmNlWSIsInNvdXJjZVdpZHRoIiwic291cmNlSGVpZ2h0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJjdHgiLCJnZXRDb250ZXh0IiwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiaW1hZ2VTbW9vdGhpbmdRdWFsaXR5Iiwid2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibXNJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJkcmF3SW1hZ2UiLCJyb3VuZCIsInZhbCIsImRvd25zYW1wbGUiLCJzb3VyY2VJbWFnZURhdGEiLCJkZXN0IiwiSW1hZ2VEYXRhIiwiU09VUkNFX0RBVEEiLCJJbnQzMkFycmF5IiwiZGF0YSIsImJ1ZmZlciIsIlNPVVJDRV9XSURUSCIsIkRFU1RfREFUQSIsIkRFU1RfV0lEVEgiLCJTQ0FMRV9GQUNUT1JfWCIsIlNDQUxFX0ZBQ1RPUl9ZIiwiU0NBTEVfUkFOR0VfWCIsIlNDQUxFX1JBTkdFX1kiLCJTQ0FMRV9SQU5HRV9TUVIiLCJkZXN0Um93IiwiZGVzdENvbCIsInNvdXJjZUluZCIsImRlc3RSZWQiLCJkZXN0R3JlZW4iLCJkZXN0Qmx1ZSIsImRlc3RBbHBoYSIsInNvdXJjZVJvdyIsInNvdXJjZUNvbCIsInNvdXJjZVB4IiwiY3JlYXRlVGltaW5nIiwiZW5hYmxlZCIsInN0YXJ0IiwiRGF0ZSIsInRpbWluZyIsInByZXYiLCJuIiwibWFyayIsIm5hbWUiLCJzdWJzdHIiLCJGdW5jdGlvbiIsImZpbmlzaCIsImNvbnNvbGUiLCJsb2ciLCJ0YWJsZSIsImNyZWF0ZUNhY2hlIiwia2V5cyIsInZhbHVlcyIsInN1YnNjcmliZXMiLCJQRU5ESU5HIiwiT2JqZWN0IiwiY3JlYXRlU2V0dGVyIiwia2V5IiwiZ2V0IiwiY2FjaGVJbmQiLCJwdXNoIiwidmFsdWUiLCJyZWR1Y2UiLCJyIiwicmVzb2x2ZSIsImluZGV4T2YiLCJoYXMiLCJnZXRJbWFnZURhdGEiLCJpbWciLCJwdXRJbWFnZURhdGEiLCJpbWFnZURhdGEiLCJyZW1hcERpbWVuc2lvbnMiLCJvcmlnU291cmNlV2lkdGgiLCJvcmlnU291cmNlSGVpZ2h0Iiwic291cmNlUmF0aW8iLCJkZXN0UmF0aW8iLCJwcm9kdWNlUmVzdWx0Iiwib3B0aW9ucyIsImNhbGxiYWNrIiwicmV0dXJuQ2FudmFzIiwicmV0dXJuQmxvYiIsInRvQmxvYiIsImltYWdlVHlwZSIsInF1YWxpdHkiLCJkYXRhVVJMIiwidG9EYXRhVVJMIiwibG9hZEFycmF5QnVmZmVyIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwicmVzcG9uc2VUeXBlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3BvbnNlIiwic2VuZCIsImxvYWRJbWciLCJjb21wbGV0ZSIsImxvYWRWaWRlbyIsInZpZGVvIiwicmVhZHlTdGF0ZSIsImRldGVjdFNvdXJjZVR5cGUiLCJGaWxlIiwiSFRNTEltYWdlRWxlbWVudCIsIkhUTUxWaWRlb0VsZW1lbnQiLCJ2YWxpZGF0ZUFyZ3VtZW50cyIsImFyZ3MiLCJsZW5ndGgiLCJUeXBlRXJyb3IiLCJkZWJ1ZyIsImVyciIsImFyZ3VtZW50cyIsIlByb21pc2UiLCJyZWplY3QiLCJyZXNvbHZlUmVzdWx0IiwicmVqZWN0UmVzdWx0IiwicmVzdWx0IiwiY2FjaGUiLCJjYWNoZURhdGEiLCJkaW1zIiwiZGVzdEltYWdlRGF0YSIsInNjYWxlU291cmNlUmVzb2x2ZSIsIlVSTCIsIndpbmRvdyIsIndlYmtpdFVSTCIsInNvdXJjZUltZyIsInNyYyIsImNyZWF0ZU9iamVjdFVSTCIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ2aWRlb1dpZHRoIiwidmlkZW9IZWlnaHQiLCJzZXRUaW1lb3V0IiwiYXJyYXlCdWZmZXIiLCJhcnJheUJ1ZmZlclZpZXciLCJVaW50OEFycmF5IiwiYmxvYiIsIkJsb2IiLCJ0eXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/downscale/dist/downscale.js\n");

/***/ })

};
;